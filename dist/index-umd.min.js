!function(e,a){"object"==typeof exports&&"undefined"!=typeof module?a(exports):"function"==typeof define&&define.amd?define(["exports"],a):a(e.SharedStorage={})}(this,function(e){"use strict";const a={};let n=1;const t=e=>new Promise((t,s)=>{((e,a,{origin:n=new URL(e).origin,loaded:t}={})=>{const s=document.createElement("iframe");s.style.display="none",s.addEventListener("load",e=>{t&&t(e),s.contentWindow.postMessage(a,n)}),s.src=e,document.body.append(s)})("http://localhost:8051",Object.assign(e,{id:n,isSharedStorage:!0})),a[n++]={resolve:t,reject:s}});window.addEventListener("message",e=>{e.data.id&&("error"===e.data.status?a[e.data.id].reject(e.data):a[e.data.id].resolve(e.data))});e.get=(async({namespace:e,namespacing:a})=>t({namespacing:a,namespace:e})),e.getMaxRemaining=(async()=>t({getMaxRemaining:!0})),e.set=(async({data:e,namespace:a,namespacing:n})=>t({namespacing:n,namespace:a,data:e})),Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=index-umd.min.js.map
